/*! bespoke-spotlight v0.0.1-alpha-1 Â© 2013 Ben Birch, Licensed MIT */
!function(a){function b(a){for(var b="",c="\\^$*+?.()=|{,}[]-",d=0;d<a.length;d++)b+=(-1===c.indexOf(a.charAt(d))?"":"\\")+a.charAt(d);return b}var c=81,d=[function(a){return a.querySelectorAll("header, h1, h2, h3, h4, h5, h6")},function(a){return[a]}],e=function(a){function e(){h=g,l.style.display="block",m.value="",m.focus(),i=!0}function f(){l.style.display="none",m.className="",i=!1}var g=0,h=0;a.on("activate",function(a){g=a.index});var i=!1,j=d.map(function(b){return a.slides.map(function(a){return Array.prototype.reduce.call(b(a),function(a,b){return a+" "+b.textContent},"").trim().replace(/\s+/g," ")})}),k=document.createElement("DIV");k.innerHTML='<div id="bespoke-spotlight" style="display: none"><input type="text" id="bespoke-spotlight-q"></div>',document.body.appendChild(k.firstChild);var l=document.getElementById("bespoke-spotlight"),m=document.getElementById("bespoke-spotlight-q");m.addEventListener("blur",f),m.addEventListener("keyup",function(){var c=m.value;if(0!==c.length){for(var d=new RegExp(b(c),"i"),e=0;e<j.length;e++)for(var f=j[e],g=0;g<f.length;g++)if(d.test(f[g]))return a.slide(g),m.className="",void 0;m.className="no-match",a.slide(h)}}),window.addEventListener("keydown",function(a){i||a.which!==c||(e(),a.preventDefault()),!i||27!==a.which&&13!==a.which||f()})};a.plugins.spotlight=e}(bespoke);